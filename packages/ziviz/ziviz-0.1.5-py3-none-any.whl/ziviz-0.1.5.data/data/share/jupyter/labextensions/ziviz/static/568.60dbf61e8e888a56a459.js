(self.webpackChunkziviz=self.webpackChunkziviz||[]).push([[568],{568:(e,t,o)=>{e.exports=o(966),e.exports.version=o(147).version},111:(e,t,o)=>{let i=!1;function s(e){i||(new Function(e.get("plotly_js"))(),i=!0)}e.exports={inject_js:function(e){if(i)return;e.on("change:plotly_js",s,e);let t="";t=void 0===o.g.require?void 0===o.g.Plotly?"lab_inc":"lab_not_inc":"nb",e.set("plotly_js_req",t)}}},716:(e,t,o)=>{var i=o(740);commons=i._common_options,delete i._common_options,Object.keys(i).forEach((e=>{candidate=new Map(Object.entries(i[e])),candidate.has("_common_options")&&candidate.get("_common_options").forEach((e=>{candidate.set(e,commons[e])})),candidate.delete("_common_options"),i[e]=candidate})),e.exports=i},966:(module,__unused_webpack_exports,__webpack_require__)=>{var widgets=__webpack_require__(337);let init_module=__webpack_require__(111);const viz_types=__webpack_require__(716);let create_selector_from_array=function(e,t){let o=document.createElement("select");return o.classList.add("ziviz_observe"),e.forEach((function(e){let i=document.createElement("option");i.setAttribute("value",e),i.innerHTML=e,e==t&&i.setAttribute("selected",!0),o.appendChild(i)})),o},update_header=function(e,t){let o=t.get("axis_options"),i=e.querySelector("[data-ziviz_type='viz_type']").value,s=viz_types[i],r=Array.from(viz_types[i].keys()),a=new Map(t.get("viz_params")?.v?.map((e=>[e.id,e.val])));e.querySelectorAll("div.ziviz_option_container").forEach((function(e){let t=e.querySelector("select").dataset.ziviz_type;r.includes(t)||e.remove()}));for(var l=0;l<r.length;l++){let i=r[l],n=s.get(i),_=0==l?null:r[l-1];if(0==e.querySelectorAll("[data-ziviz_type='"+i+"']").length){let s=document.createElement("div");s.classList.add("ziviz_option_container"),s.appendChild(document.createTextNode(i+":"));let r=create_selector_from_array("%axis_selector"===n?o:n,a?.get(i));r.setAttribute("data-ziviz_type",i),r.addEventListener("change",(function(){selection_changed_cb(e,t)})),s.appendChild(r);var c=null;null!=_&&(c=void 0===(c=e.querySelector("[data-ziviz_type='"+_+"']"))?null:c.parentNode),null==c?e.querySelector(".ziviz_options").prepend(s):c.parentNode.insertBefore(s,c.nextSibling)}}},selection_changed_cb=function(e,t){e.querySelector("div.ziviz_canvas").innerHTML="",update_header(e,t);let o={v:Array.from(e.querySelectorAll(".ziviz_observe"),(e=>({id:e.dataset.ziviz_type,val:e.value})))};t.set("viz_params",o),t.save_changes()},get_source_cb=function(e,t){e.querySelector("div.ziviz_canvas").innerHTML=t.get("viz_code")},get_header_html=function(e,t){let o=new Map(t.get("viz_params")?.v?.map((e=>[e.id,e.val]))),i=document.createElement("div");i.classList.add("ziviz_header");let s=create_selector_from_array(Object.keys(viz_types),o?.get("viz_type"));s.setAttribute("data-ziviz_type","viz_type"),s.classList.add("ziviz_viz_type"),s.addEventListener("change",(function(){selection_changed_cb(e,t)})),i.appendChild(s);let r=document.createElement("button");r.innerHTML="Source code",r.addEventListener("click",(function(){get_source_cb(e,t)})),i.appendChild(r),e.appendChild(i);let a=document.createElement("div");a.classList.add("ziviz_options"),e.appendChild(a),update_header(e,t);let l=document.createElement("div");l.classList.add("ziviz_canvas"),e.appendChild(l)};var ZivizModel=widgets.DOMWidgetModel.extend({defaults:Object.assign(widgets.DOMWidgetModel.prototype.defaults(),{_model_name:"ZivizModel",_view_name:"ZivizView",_model_module:"ziviz",_view_module:"ziviz",_model_module_version:"0.1.5",_view_module_version:"0.1.5"})}),ZivizView=widgets.DOMWidgetView.extend({render:function(){if(this.model._events["change:viz"]&&this.model._events["change:viz"].length>0)this.el.innerHTML="Only one view per widget is allowed.";else if(init_module.inject_js(this.model),get_header_html(this.el,this.model),this.model.on("change:viz",this.viz_changed,this),this.model.get("viz_params")?.v?.length>0){let e=Object.assign({},this.model.get("viz_params"));e?.n?e.n++:e.n=1,this.model.set("viz_params",e),this.model.save_changes()}},viz_changed:function(){let s=this.model.get("viz"),canv=this.el.querySelector(".ziviz_canvas");canv.innerHTML=s,canv.querySelectorAll("script").forEach((function(i){eval(i.textContent)}))}});module.exports={ZivizModel,ZivizView}},740:e=>{"use strict";e.exports=JSON.parse('{"_common_options":{"template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"],"color_continuous_scale":["","aggrnyl","agsunset","blackbody","bluered","blues","blugrn","bluyl","brwnyl","bugn","bupu","burg","burgyl","cividis","darkmint","electric","emrld","gnbu","greens","greys","hot","inferno","jet","magenta","magma","mint","orrd","oranges","oryel","peach","pinkyl","plasma","plotly3","pubu","pubugn","purd","purp","purples","purpor","rainbow","rdbu","rdpu","redor","reds","sunset","sunsetdark","teal","tealgrn","turbo","viridis","ylgn","ylgnbu","ylorbr","ylorrd","algae","amp","deep","dense","gray","haline","ice","matter","solar","speed","tempo","thermal","turbid","armyrose","brbg","earth","fall","geyser","prgn","piyg","picnic","portland","puor","rdgy","rdylbu","rdylgn","spectral","tealrose","temps","tropic","balance","curl","delta","oxy","edge","hsv","icefire","phase","twilight","mrybm","mygbm"]},"histogram":{"x":"%axis_selector","pattern_shape":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","orientation":["","h","v"],"histnorm":["","percent","probability","density","probability density"],"barmode":["","relative","group","overlay"],"_common_options":["template","color_discrete_sequence"]},"box":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","_common_options":["template","color_discrete_sequence"],"orientation":["","h","v"],"boxmode":["","group","overlay"],"points":["","outliers","suspectedoutliers","all"]},"bar chart":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","pattern_shape":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","base":"%axis_selector","orientation":["","h","v"],"barmode":["","group","overlay","relative"],"_common_options":["template","color_continuous_scale","color_discrete_sequence"]},"line chart":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","line_dash":"%axis_selector","orientation":["","h","v"],"line_shape":["","linear","spline"],"_common_options":["template","color_discrete_sequence"]},"scatter plot":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","symbol":"%axis_selector","size":"%axis_selector","marginal_x":["","rug","box","violin","histogram"],"marginal_y":["","rug","box","violin","histogram"],"trendline":["","ols","lowess"],"_common_options":["template","color_continuous_scale","color_discrete_sequence"]},"scatter matrix":{"color":"%axis_selector","_common_options":["template","color_continuous_scale","color_discrete_sequence"]},"pie chart":{"values":"%axis_selector","names":"%axis_selector","color":"%axis_selector","_common_options":["template","color_discrete_sequence"]},"timeline":{"x_start":"%axis_selector","x_end":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","_common_options":["template","color_continuous_scale","color_discrete_sequence"]},"S-curve":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","ecdfnorm":["","percent","probability"],"ecdfmode":["","standard","complementary","reversed"],"_common_options":["template","color_discrete_sequence"]},"heatmap":{"x":"%axis_selector","y":"%axis_selector","z":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","orientation":["","h","v"],"histnorm":["","percent","probability","density","probability density"],"histfunc":["","count","sum","avg","min","max"],"_common_options":["template","color_continuous_scale"]}}')},147:e=>{"use strict";e.exports={version:"0.1.5"}}}]);