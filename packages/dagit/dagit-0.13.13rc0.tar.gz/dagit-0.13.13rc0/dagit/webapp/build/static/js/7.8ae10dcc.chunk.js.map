{"version":3,"sources":["../../../../../src/components/select/select.tsx","../../core/src/app/time/TimezoneSelect.tsx","../../core/src/app/SettingsRoot.tsx","../../core/src/ui/PageHeader.tsx","../../core/src/ui/Menu.tsx","../../core/src/hooks/useDocumentTitle.tsx","../../core/src/ui/MetadataTable.tsx","../../core/src/ui/Select.tsx"],"names":["this","formatOffset","mm","amm","Math","abs","floor","AllTimezoneItems","moment","tz","names","map","key","offset","zone","utcOffset","Date","now","offsetLabel","sort","a","b","PopularTimezones","SortedTimezoneItems","browserTimezoneAbbreviation","browserTimezone","filter","t","includes","TimezoneSelect","trigger","React","TimezoneContext","timezone","setTimezone","Select","popoverProps","position","modifiers","enabled","activeItem","find","inputProps","style","width","items","itemPredicate","query","toLowerCase","itemRenderer","props","startsWith","Menu","active","onClick","handleClick","label","text","itemListRenderer","renderItem","renderedItems","filteredItems","Boolean","noResults","disabled","onItemSelect","SettingsRoot","useDocumentTitle","getFeatureFlags","flags","setFlags","setFeatureFlags","toggleFlag","flag","f","window","location","reload","ButtonLink","automaticLabel","height","overflowY","PageHeader","title","Box","padding","vertical","horizontal","bottom","MetadataTable","rows","value","border","side","color","ColorsWIP","KeylineGray","Checkbox","format","checked","FeatureFlag","flagDebugConsoleLogging","onChange","flagAssetGraph","flagInstanceOverview","tags","right","tabs","PageHeaderContainer","background","Gray50","top","left","flex","direction","justifyContent","alignItems","gap","styled","MenuWIP","StyledMenu","intentToTextColor","intent","Blue500","Red500","Green500","Yellow500","Gray900","intentToIconColor","iconWithColor","icon","name","MenuItemWIP","rest","StyledMenuItem","$textColor","MenuLink","StyledMenuLink","MenuDividerWIP","MenuDivider","Gray100","MenuItem","IconWrapper","White","Link","currentTitle","document","spacing","StyledTable","pair","MetadataKey","defaultProps","table","div","Gray600","MetadataTableWIP","Table","SelectWIP","minimal","deepmerge","popoverClassName","className"],"mappings":"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","file":"static/js/7.8ae10dcc.chunk.js","sourcesContent":["/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Button, DISPLAYNAME_PREFIX, InputGroup, Keys, Popover, Position, refHandler, setRef, } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\nvar Select = /** @class */ (function (_super) {\n    __extends(Select, _super);\n    function Select() {\n        var _a;\n        var _this = _super.apply(this, arguments) || this;\n        _this.state = { isOpen: false };\n        _this.TypedQueryList = QueryList.ofType();\n        _this.inputElement = null;\n        _this.queryList = null;\n        _this.handleInputRef = refHandler(_this, \"inputElement\", (_a = _this.props.inputProps) === null || _a === void 0 ? void 0 : _a.inputRef);\n        _this.handleQueryListRef = function (ref) { return (_this.queryList = ref); };\n        _this.renderQueryList = function (listProps) {\n            // not using defaultProps cuz they're hard to type with generics (can't use <T> on static members)\n            var _a = _this.props, _b = _a.filterable, filterable = _b === void 0 ? true : _b, _c = _a.disabled, disabled = _c === void 0 ? false : _c, _d = _a.inputProps, inputProps = _d === void 0 ? {} : _d, _e = _a.popoverProps, popoverProps = _e === void 0 ? {} : _e;\n            var input = (React.createElement(InputGroup, __assign({ leftIcon: \"search\", placeholder: \"Filter...\", rightElement: _this.maybeRenderClearButton(listProps.query) }, inputProps, { inputRef: _this.handleInputRef, onChange: listProps.handleQueryChange, value: listProps.query })));\n            var handleKeyDown = listProps.handleKeyDown, handleKeyUp = listProps.handleKeyUp;\n            return (\n            /* eslint-disable-next-line deprecation/deprecation */\n            React.createElement(Popover, __assign({ autoFocus: false, enforceFocus: false, isOpen: _this.state.isOpen, disabled: disabled, position: Position.BOTTOM_LEFT }, popoverProps, { className: classNames(listProps.className, popoverProps.className), onInteraction: _this.handlePopoverInteraction, popoverClassName: classNames(Classes.SELECT_POPOVER, popoverProps.popoverClassName), onOpening: _this.handlePopoverOpening, onOpened: _this.handlePopoverOpened, onClosing: _this.handlePopoverClosing }),\n                React.createElement(\"div\", { onKeyDown: _this.state.isOpen ? handleKeyDown : _this.handleTargetKeyDown, onKeyUp: _this.state.isOpen ? handleKeyUp : undefined }, _this.props.children),\n                React.createElement(\"div\", { onKeyDown: handleKeyDown, onKeyUp: handleKeyUp },\n                    filterable ? input : undefined,\n                    listProps.itemList)));\n        };\n        _this.handleTargetKeyDown = function (event) {\n            // open popover when arrow key pressed on target while closed\n            // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n            // eslint-disable-next-line deprecation/deprecation\n            if (event.which === Keys.ARROW_UP || event.which === Keys.ARROW_DOWN) {\n                event.preventDefault();\n                _this.setState({ isOpen: true });\n            }\n        };\n        _this.handleItemSelect = function (item, event) {\n            var _a, _b;\n            _this.setState({ isOpen: false });\n            (_b = (_a = _this.props).onItemSelect) === null || _b === void 0 ? void 0 : _b.call(_a, item, event);\n        };\n        _this.handlePopoverInteraction = function (isOpen) {\n            var _a, _b;\n            _this.setState({ isOpen: isOpen });\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onInteraction) === null || _b === void 0 ? void 0 : _b.call(_a, isOpen);\n        };\n        _this.handlePopoverOpening = function (node) {\n            var _a, _b;\n            // save currently focused element before popover steals focus, so we can restore it when closing.\n            _this.previousFocusedElement = document.activeElement;\n            if (_this.props.resetOnClose) {\n                _this.resetQuery();\n            }\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpening) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.handlePopoverOpened = function (node) {\n            var _a, _b;\n            // scroll active item into view after popover transition completes and all dimensions are stable.\n            if (_this.queryList != null) {\n                _this.queryList.scrollActiveItemIntoView();\n            }\n            _this.requestAnimationFrame(function () {\n                var _a;\n                var _b = _this.props.inputProps, inputProps = _b === void 0 ? {} : _b;\n                // autofocus is enabled by default\n                if (inputProps.autoFocus !== false) {\n                    (_a = _this.inputElement) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n            });\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpened) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.handlePopoverClosing = function (node) {\n            var _a, _b;\n            // restore focus to saved element.\n            // timeout allows popover to begin closing and remove focus handlers beforehand.\n            _this.requestAnimationFrame(function () {\n                if (_this.previousFocusedElement !== undefined) {\n                    _this.previousFocusedElement.focus();\n                    _this.previousFocusedElement = undefined;\n                }\n            });\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onClosing) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.resetQuery = function () { return _this.queryList && _this.queryList.setQuery(\"\", true); };\n        return _this;\n    }\n    Select.ofType = function () {\n        return Select;\n    };\n    Select.prototype.render = function () {\n        // omit props specific to this component, spread the rest.\n        var _a = this.props, filterable = _a.filterable, inputProps = _a.inputProps, popoverProps = _a.popoverProps, restProps = __rest(_a, [\"filterable\", \"inputProps\", \"popoverProps\"]);\n        return (React.createElement(this.TypedQueryList, __assign({}, restProps, { onItemSelect: this.handleItemSelect, ref: this.handleQueryListRef, renderer: this.renderQueryList })));\n    };\n    Select.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a, _b, _c, _d, _e;\n        if (((_a = prevProps.inputProps) === null || _a === void 0 ? void 0 : _a.inputRef) !== ((_b = this.props.inputProps) === null || _b === void 0 ? void 0 : _b.inputRef)) {\n            setRef((_c = prevProps.inputProps) === null || _c === void 0 ? void 0 : _c.inputRef, null);\n            this.handleInputRef = refHandler(this, \"inputElement\", (_d = this.props.inputProps) === null || _d === void 0 ? void 0 : _d.inputRef);\n            setRef((_e = this.props.inputProps) === null || _e === void 0 ? void 0 : _e.inputRef, this.inputElement);\n        }\n        if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n    };\n    Select.prototype.maybeRenderClearButton = function (query) {\n        return query.length > 0 ? React.createElement(Button, { icon: \"cross\", minimal: true, onClick: this.resetQuery }) : undefined;\n    };\n    Select.displayName = DISPLAYNAME_PREFIX + \".Select\";\n    return Select;\n}(AbstractPureComponent2));\nexport { Select };\n//# sourceMappingURL=select.js.map","import moment from 'moment-timezone';\nimport * as React from 'react';\n\nimport {MenuDividerWIP, MenuItemWIP, MenuWIP} from '../../ui/Menu';\nimport {SelectWIP} from '../../ui/Select';\n\nimport {TimezoneContext} from './TimezoneContext';\nimport {browserTimezone, browserTimezoneAbbreviation} from './browserTimezone';\n\nconst formatOffset = (mm: number) => {\n  const amm = Math.abs(mm);\n  // moment.tz.zone() offsets are inverted: https://momentjs.com/timezone/docs/#/zone-object/offset/\n  return `${mm < 0 ? '+' : '-'}${Math.floor(amm / 60)}:${amm % 60 < 10 ? '0' : ''}${amm % 60}`;\n};\n\nconst AllTimezoneItems = moment.tz\n  .names()\n  .map((key) => {\n    const offset = moment.tz.zone(key)?.utcOffset(Date.now()) || 0;\n    return {offsetLabel: `${formatOffset(offset)}`, offset, key};\n  })\n  .sort((a, b) => a.offset - b.offset);\n\nconst PopularTimezones = ['UTC', 'US/Pacific', 'US/Mountain', 'US/Central', 'US/Eastern'];\n\nconst offsetLabel = () => {\n  return `${browserTimezoneAbbreviation()} ${formatOffset(\n    moment.tz.zone(browserTimezone())?.utcOffset(Date.now()) || 0,\n  )}`;\n};\n\nconst SortedTimezoneItems = [\n  {\n    key: 'Automatic',\n    offsetLabel: offsetLabel(),\n    offset: 0,\n  },\n  {\n    key: 'divider-1',\n    offsetLabel: '',\n    offset: 0,\n  },\n  ...AllTimezoneItems.filter((t) => PopularTimezones.includes(t.key)),\n  {\n    key: 'divider-2',\n    offsetLabel: '',\n    offset: 0,\n  },\n  ...AllTimezoneItems.filter((t) => !PopularTimezones.includes(t.key)),\n];\n\ninterface Props {\n  trigger: (timezone: string) => React.ReactNode;\n}\n\nexport const TimezoneSelect: React.FC<Props> = ({trigger}) => {\n  const [timezone, setTimezone] = React.useContext(TimezoneContext);\n\n  return (\n    <SelectWIP<typeof SortedTimezoneItems[0]>\n      popoverProps={{\n        position: 'bottom-left',\n        modifiers: {offset: {enabled: true, offset: '-12px, 8px'}},\n      }}\n      activeItem={SortedTimezoneItems.find((tz) => tz.key === timezone)}\n      inputProps={{style: {width: '300px'}}}\n      items={SortedTimezoneItems}\n      itemPredicate={(query, tz) => tz.key.toLowerCase().includes(query.toLowerCase())}\n      itemRenderer={(tz, props) =>\n        tz.key.startsWith('divider') ? (\n          <MenuDividerWIP key={tz.key} />\n        ) : (\n          <MenuItemWIP\n            active={props.modifiers.active}\n            onClick={props.handleClick}\n            label={tz.offsetLabel}\n            key={tz.key}\n            text={tz.key}\n          />\n        )\n      }\n      itemListRenderer={({renderItem, filteredItems}) => {\n        const renderedItems = filteredItems.map(renderItem).filter(Boolean);\n        return <MenuWIP>{renderedItems}</MenuWIP>;\n      }}\n      noResults={<MenuItemWIP disabled text=\"No results.\" />}\n      onItemSelect={(tz) => setTimezone(tz.key)}\n    >\n      {trigger(timezone)}\n    </SelectWIP>\n  );\n};\n","import * as React from 'react';\n\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {Box} from '../ui/Box';\nimport {ButtonLink} from '../ui/ButtonLink';\nimport {Checkbox} from '../ui/Checkbox';\nimport {ColorsWIP} from '../ui/Colors';\nimport {MetadataTable} from '../ui/MetadataTable';\nimport {PageHeader} from '../ui/PageHeader';\nimport {Heading, Subheading} from '../ui/Text';\n\nimport {FeatureFlag, getFeatureFlags, setFeatureFlags} from './Flags';\nimport {TimezoneSelect} from './time/TimezoneSelect';\nimport {automaticLabel} from './time/browserTimezone';\n\nconst SettingsRoot = () => {\n  useDocumentTitle('User settings');\n\n  const [flags, setFlags] = React.useState<FeatureFlag[]>(() => getFeatureFlags());\n\n  React.useEffect(() => {\n    setFeatureFlags(flags);\n  });\n\n  const toggleFlag = (flag: FeatureFlag) => {\n    setFlags(flags.includes(flag) ? flags.filter((f) => f !== flag) : [...flags, flag]);\n    window.location.reload();\n  };\n\n  const trigger = React.useCallback(\n    (timezone: string) => (\n      <ButtonLink>{timezone === 'Automatic' ? automaticLabel() : timezone}</ButtonLink>\n    ),\n    [],\n  );\n\n  return (\n    <div style={{height: '100vh', overflowY: 'auto'}}>\n      <PageHeader title={<Heading>User settings</Heading>} />\n      <Box padding={{vertical: 16, horizontal: 24}}>\n        <Box padding={{bottom: 8}}>\n          <Subheading>Preferences</Subheading>\n        </Box>\n        <MetadataTable\n          rows={[\n            {\n              key: 'Timezone',\n              value: <TimezoneSelect trigger={trigger} />,\n            },\n          ]}\n        />\n      </Box>\n      <Box\n        padding={{vertical: 16, horizontal: 24}}\n        border={{side: 'top', width: 1, color: ColorsWIP.KeylineGray}}\n      >\n        <Box padding={{bottom: 8}}>\n          <Subheading>Experimental features</Subheading>\n        </Box>\n        <MetadataTable\n          rows={[\n            {\n              key: 'Debug console logging',\n              value: (\n                <Checkbox\n                  format=\"switch\"\n                  checked={flags.includes(FeatureFlag.flagDebugConsoleLogging)}\n                  onChange={() => toggleFlag(FeatureFlag.flagDebugConsoleLogging)}\n                />\n              ),\n            },\n            {\n              key: 'Experimental Asset APIs',\n              value: (\n                <Checkbox\n                  format=\"switch\"\n                  checked={flags.includes(FeatureFlag.flagAssetGraph)}\n                  onChange={() => toggleFlag(FeatureFlag.flagAssetGraph)}\n                />\n              ),\n            },\n            {\n              key: 'Instance overview page',\n              value: (\n                <Checkbox\n                  format=\"switch\"\n                  checked={flags.includes(FeatureFlag.flagInstanceOverview)}\n                  onChange={() => toggleFlag(FeatureFlag.flagInstanceOverview)}\n                />\n              ),\n            },\n          ]}\n        />\n      </Box>\n    </div>\n  );\n};\n\n// Imported via React.lazy, which requires a default export.\n// eslint-disable-next-line import/no-default-export\nexport default SettingsRoot;\n","import * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Box} from './Box';\nimport {ColorsWIP} from './Colors';\nimport {IconName} from './Icon';\n\ninterface Props {\n  title: React.ReactNode;\n  tags?: React.ReactNode;\n  icon?: IconName;\n  description?: React.ReactNode;\n  metadata?: React.ReactNode;\n  right?: React.ReactNode;\n  tabs?: React.ReactNode;\n}\n\nexport const PageHeader = (props: Props) => {\n  const {title, tags, right, tabs} = props;\n  return (\n    <PageHeaderContainer\n      background={ColorsWIP.Gray50}\n      padding={{top: 16, left: 24, right: 12}}\n      border={{side: 'bottom', width: 1, color: ColorsWIP.KeylineGray}}\n    >\n      <Box flex={{direction: 'row', justifyContent: 'space-between'}} padding={{bottom: 16}}>\n        <Box flex={{direction: 'row', alignItems: 'flex-start', gap: 12}}>\n          {title}\n          {tags}\n        </Box>\n        {right}\n      </Box>\n      {tabs}\n    </PageHeaderContainer>\n  );\n};\n\nconst PageHeaderContainer = styled(Box)`\n  width: 100%;\n\n  /**\n   * Blueprint breadcrumbs annoyingly have a built-in height.\n   */\n  .bp3-breadcrumbs {\n    height: auto;\n  }\n`;\n","// eslint-disable-next-line no-restricted-imports\nimport {Intent, Menu, MenuDivider, MenuItem} from '@blueprintjs/core';\nimport * as React from 'react';\nimport {Link, LinkProps} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {Box} from './Box';\nimport {ColorsWIP} from './Colors';\nimport {IconName, IconWIP, IconWrapper} from './Icon';\n\ninterface Props extends React.ComponentProps<typeof Menu> {}\n\nexport const MenuWIP: React.FC<Props> = (props) => {\n  return <StyledMenu {...props} />;\n};\n\nconst intentToTextColor = (intent: React.ComponentProps<typeof MenuItem>['intent']) => {\n  switch (intent) {\n    case 'primary':\n      return ColorsWIP.Blue500;\n    case 'danger':\n      return ColorsWIP.Red500;\n    case 'success':\n      return ColorsWIP.Green500;\n    case 'warning':\n      return ColorsWIP.Yellow500;\n    case 'none':\n    default:\n      return ColorsWIP.Gray900;\n  }\n};\n\nconst intentToIconColor = (intent: React.ComponentProps<typeof MenuItem>['intent']) => {\n  switch (intent) {\n    case 'primary':\n      return ColorsWIP.Blue500;\n    case 'danger':\n      return ColorsWIP.Red500;\n    case 'success':\n      return ColorsWIP.Green500;\n    case 'warning':\n      return ColorsWIP.Yellow500;\n    case 'none':\n    default:\n      return ColorsWIP.Gray900;\n  }\n};\n\nconst iconWithColor = (icon?: IconName | JSX.Element, intent?: Intent) => {\n  if (icon) {\n    if (typeof icon === 'string') {\n      return <IconWIP name={icon} color={intentToIconColor(intent)} />;\n    }\n    return icon;\n  }\n  return null;\n};\n\ninterface CommonMenuItemProps {\n  icon?: IconName | JSX.Element;\n}\n\ninterface ItemProps\n  extends CommonMenuItemProps,\n    Omit<React.ComponentProps<typeof MenuItem>, 'href' | 'icon'> {}\n\nexport const MenuItemWIP: React.FC<ItemProps> = (props) => {\n  const {icon, intent, ...rest} = props;\n  return (\n    <StyledMenuItem\n      {...rest}\n      $textColor={intentToTextColor(intent)}\n      icon={iconWithColor(icon, intent)}\n    />\n  );\n};\n\ninterface MenuLinkProps\n  extends CommonMenuItemProps,\n    Omit<React.ComponentProps<typeof MenuItem>, 'icon' | 'onClick'>,\n    LinkProps {}\n\n/**\n * If you want to use a menu item as a link, use `MenuLink` and provide a `to` prop.\n */\nexport const MenuLink: React.FC<MenuLinkProps> = (props) => {\n  const {icon, intent, text, ...rest} = props;\n\n  return (\n    <StyledMenuLink {...rest}>\n      <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n        {iconWithColor(icon, intent)}\n        <div>{text}</div>\n      </Box>\n    </StyledMenuLink>\n  );\n};\n\nexport const MenuDividerWIP = styled(MenuDivider)`\n  border-top: 1px solid ${ColorsWIP.Gray100};\n  margin: 2px 0;\n`;\n\nconst StyledMenu = styled(Menu)`\n  border-radius: 4px;\n  padding: 8px 4px;\n`;\n\ninterface StyledMenuItemProps extends React.ComponentProps<typeof MenuItem> {\n  $textColor: string;\n}\n\nconst StyledMenuItem = styled(MenuItem)<StyledMenuItemProps>`\n  border-radius: 4px;\n  color: ${({$textColor}) => $textColor};\n  line-height: 20px;\n  padding: 6px 8px 6px 12px;\n  transition: background-color 50ms, box-shadow 150ms;\n  align-items: flex-start;\n\n  /**\n   * Use margin instead of align-items: center because the contents of the menu item may wrap \n   * in unusual circumstances.\n   */\n  ${IconWrapper} {\n    margin-top: 2px;\n  }\n\n  &.bp3-intent-primary.bp3-active {\n    background-color: ${ColorsWIP.Blue500};\n\n    ${IconWrapper} {\n      background-color: ${ColorsWIP.White};\n    }\n  }\n\n  &.bp3-disabled ${IconWrapper} {\n    opacity: 0.5;\n  }\n\n  &.bp3-active ${IconWrapper} {\n    color: ${ColorsWIP.White};\n  }\n\n  ${IconWrapper}:first-child {\n    margin-left: -4px;\n  }\n\n  &:hover {\n    background: ${ColorsWIP.Gray100};\n    color: ${({$textColor}) => $textColor};\n  }\n\n  &:focus {\n    color: ${({$textColor}) => $textColor};\n    box-shadow: rgba(58, 151, 212, 0.6) 0 0 0 2px;\n    outline: none;\n  }\n`;\n\nconst StyledMenuLink = styled(Link)`\n  text-decoration: none;\n\n  border-radius: 4px;\n  display: block;\n  line-height: 20px;\n  padding: 6px 8px 6px 12px;\n  transition: background-color 50ms, box-shadow 150ms;\n  align-items: flex-start;\n  user-select: none;\n\n  /**\n   * Use margin instead of align-items: center because the contents of the menu item may wrap \n   * in unusual circumstances.\n   */\n  ${IconWrapper} {\n    margin-top: 2px;\n  }\n\n  ${IconWrapper}:first-child {\n    margin-left: -4px;\n  }\n\n  &&&:link,\n  &&&:visited,\n  &&&:hover,\n  &&&:active {\n    color: ${ColorsWIP.Gray900};\n    text-decoration: none;\n  }\n\n  &&&:hover {\n    background: ${ColorsWIP.Gray100};\n  }\n`;\n","import * as React from 'react';\n\nexport const useDocumentTitle = (title: string) => {\n  React.useEffect(() => {\n    const currentTitle = document.title;\n    document.title = title;\n    return () => {\n      document.title = currentTitle;\n    };\n  }, [title]);\n};\n","import * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Box} from './Box';\nimport {ColorsWIP} from './Colors';\nimport {Table} from './Table';\n\ntype Row = {key: string; value: React.ReactNode};\n\ninterface Props {\n  rows: (Row | null | undefined)[];\n  spacing: 0 | 2 | 4;\n}\n\nexport const MetadataTable = (props: Props) => {\n  const {rows, spacing} = props;\n\n  return (\n    <StyledTable>\n      <tbody>\n        {rows.map((pair: Row | null | undefined) => {\n          if (!pair) {\n            return null;\n          }\n          const {key, value} = pair;\n          return (\n            <tr key={key}>\n              <td>\n                <Box padding={{vertical: spacing, right: 32}}>\n                  <MetadataKey>{key}</MetadataKey>\n                </Box>\n              </td>\n              <td>\n                <Box padding={{vertical: spacing}}>{value}</Box>\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </StyledTable>\n  );\n};\n\nMetadataTable.defaultProps = {\n  spacing: 4,\n};\n\nexport const StyledTable = styled.table`\n  border-spacing: 0;\n  td {\n    vertical-align: top;\n  }\n\n  td .bp3-control {\n    margin-bottom: 0;\n  }\n`;\n\nconst MetadataKey = styled.div`\n  color: ${ColorsWIP.Gray600};\n  font-weight: 400;\n`;\n\nexport const MetadataTableWIP = styled(Table)`\n  td:first-child {\n    white-space: nowrap;\n    width: 1px;\n    max-width: 400px;\n    word-break: break-word;\n    overflow: hidden;\n    padding-right: 24px;\n    text-overflow: ellipsis;\n  }\n`;\n","import {IPopoverProps} from '@blueprintjs/core';\n// eslint-disable-next-line no-restricted-imports\nimport {Select as BlueprintSelect, SelectProps} from '@blueprintjs/select';\nimport deepmerge from 'deepmerge';\nimport * as React from 'react';\n\nexport const SelectWIP = <T,>(props: React.PropsWithChildren<SelectProps<T>>) => {\n  const popoverProps: Partial<IPopoverProps> = {\n    ...props.popoverProps,\n    minimal: true,\n    modifiers: deepmerge(\n      {offset: {enabled: true, offset: '0, 8px'}},\n      props.popoverProps?.modifiers || {},\n    ),\n    popoverClassName: `dagit-popover ${props.popoverProps?.className || ''}`,\n  };\n\n  return <BlueprintSelect {...props} popoverProps={popoverProps} />;\n};\n"],"sourceRoot":""}