Metadata-Version: 2.1
Name: cbaxter1988-utils
Version: 0.9.1
Summary: A Package containing my utils
Home-page: https://github.com/cbaxter1988/utils.git
Author: Courtney S Baxter Jr
Author-email: cbaxtertech@gmail.com
License: UNKNOWN
Platform: UNKNOWN
Description-Content-Type: text/markdown
Requires-Dist: atomicwrites (==1.4.0)
Requires-Dist: attrs (==21.2.0)
Requires-Dist: boto3 (==1.18.53)
Requires-Dist: botocore (==1.21.53)
Requires-Dist: bson (==0.5.10)
Requires-Dist: build (==0.7.0)
Requires-Dist: certifi (==2021.5.30)
Requires-Dist: charset-normalizer (==2.0.6)
Requires-Dist: click (==8.0.1)
Requires-Dist: colorama (==0.4.4)
Requires-Dist: Flask (==2.0.1)
Requires-Dist: idna (==3.2)
Requires-Dist: iniconfig (==1.1.1)
Requires-Dist: itsdangerous (==2.0.1)
Requires-Dist: Jinja2 (==3.0.1)
Requires-Dist: jmespath (==0.10.0)
Requires-Dist: MarkupSafe (==2.0.1)
Requires-Dist: packaging (==21.0)
Requires-Dist: pep517 (==0.11.0)
Requires-Dist: pika (==1.2.0)
Requires-Dist: pip (==21.2.4)
Requires-Dist: pluggy (==1.0.0)
Requires-Dist: py (==1.10.0)
Requires-Dist: pymongo (==3.12.0)
Requires-Dist: pyparsing (==2.4.7)
Requires-Dist: pytest (==6.2.5)
Requires-Dist: python-dateutil (==2.8.2)
Requires-Dist: requests (==2.26.0)
Requires-Dist: s3transfer (==0.5.0)
Requires-Dist: setuptools (==58.2.0)
Requires-Dist: six (==1.16.0)
Requires-Dist: toml (==0.10.2)
Requires-Dist: tomli (==1.2.1)
Requires-Dist: urllib3 (==1.26.7)
Requires-Dist: Werkzeug (==2.0.1)

# cbaxter1988_utils

These Packages are a collection of helpful utilities I utilize in numerous projects.

## Usage

### Running Tests

```text
git clone https://github.com/cbaxter1988/utils.git
pip install -r requirements.txt 
python invoke_tests.py
```

### Instalation

Using PIP

```text
pip install cbaxter1988-utils 
```

From Source

```text
git clone https://github.com/cbaxter1988/utils.git 
python setup.py install 
```

## Utilities

### core_utils

Cloning Objects:

```python
from cbaxter1988_utils import core_utils

original_list = [1, 2, 3, 4]
cloned_list = core_utils.clone_object(original_list)

```

### enviornment_utils

Utilities for interacting with your enviornment.

Examples:

```python
from cbaxter1988_utils import environment_utils

# Gets env with side-effect 
try:
    var = environment_utils.get_env_strict(key="AWS_REGION")
except KeyError:
    raise

# Gets env
var = environment_utils.get_env(key="AWS_REGION", default_value="us-east-1")

# Sets env
environment_utils.set_env(key="AWS_REGION", val="us-west-1")
```

### pika_utils

Utitilies for publishing and consuming messages with pika

```python
from cbaxter1988_utils import pika_utils
from cbaxter1988_utils.pika_utils import BlockingChannel
from pika.spec import Basic, BasicProperties

AMQP_USER = 'guest'
AMQP_PW = 'guest'
AMQP_HOST = '127.0.0.1'
AMQP_PORT = 5672
EXCHANGE_NAME = 'test_exchange'
ROUTING_KEY_NAME = 'test_routing_key'
QUEUE_NAME = 'QUEUE_NAME'
AMQP_URL = pika_utils.make_amqp_url(amqp_user=AMQP_USER, amqp_pw=AMQP_PW, amqp_host=AMQP_HOST, amqp_port=AMQP_PORT)

publisher = pika_utils.make_basic_pika_publisher(
    amqp_url=AMQP_URL,
    queue=QUEUE_NAME,
    exchange=EXCHANGE_NAME,
    routing_key=ROUTING_KEY_NAME
)


def message_handler(ch: BlockingChannel, method: Basic.Deliver, properties: BasicProperties, body):
    pass
    # Do Work


subscriber = pika_utils.make_basic_pika_consumer(
    amqp_url=AMQP_URL,
    queue=QUEUE_NAME,
    on_message_callback=message_handler
)

publisher.publish_message(body={"test": "data"})
subscriber.run()
```

