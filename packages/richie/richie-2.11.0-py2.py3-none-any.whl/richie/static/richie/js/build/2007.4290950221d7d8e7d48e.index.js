"use strict";(self.webpackChunkrichie_education=self.webpackChunkrichie_education||[]).push([[2007],{35164:function(t,e,r){r.d(e,{vt:function(){return h},tV:function(){return f},Fz:function(){return y},Pq:function(){return p}}),r(32390),r(54883),r(10853),r(35054),r(45007),r(68995),r(73214),r(19701),r(19457),r(54994),r(42900);var n=r(7124),o=r(83560),a=(r(55862),r(1368)),i=r(69701);function u(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}var c=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r,n){var u,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1.0/".concat(e,"/autocomplete/?").concat((0,i.stringify)({query:n})),{headers:{"Content-Type":"application/json"}});case 3:u=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",(0,o.p)(t.t0));case 9:if(u.ok){t.next=22;break}if(c=new Error("Failed to get list from ".concat(e," autocomplete : ").concat(u.status)),400!==u.status){t.next=20;break}return t.t2=o.p,t.t3=c,t.next=16,u.json();case 16:t.t4=t.sent,t.t1=(0,t.t2)(t.t3,t.t4),t.next=21;break;case 20:t.t1=(0,o.p)(c);case 21:return t.abrupt("return",t.t1);case 22:return t.prev=22,t.next=25,u.json();case 25:s=t.sent,t.next=31;break;case 28:return t.prev=28,t.t5=t.catch(22),t.abrupt("return",(0,o.p)(new Error("Failed to decode JSON in getSuggestionSection "+t.t5)));case 31:return t.abrupt("return",{kind:e,title:r,values:(0,a.Z)(s,3)});case 32:case"end":return t.stop()}}),t,null,[[0,6],[22,28]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),s=r(67557);function l(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}var f=function(t){return t.title},p=function(t){return(0,s.jsx)("span",{children:t.title})},d=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r,n){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length<3)){t.next=2;break}return t.abrupt("return",r([]));case 2:return t.prev=2,t.t0=Promise,t.t1=Object,t.next=7,e;case 7:return t.t2=t.sent,t.t3=t.t1.values.call(t.t1,t.t2).filter((function(t){return t.is_autocompletable})).map((function(t){return c(t.name,t.human_name,n)})),t.next=11,t.t0.all.call(t.t0,t.t3);case 11:a=t.sent,t.next=17;break;case 14:return t.prev=14,t.t4=t.catch(2),t.abrupt("return",(0,o.p)(t.t4));case 17:r(a.filter((function(t){return!!t.values.length})));case 18:case"end":return t.stop()}}),t,null,[[2,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){l(a,n,o,i,u,"next",t)}function u(t){l(a,n,o,i,u,"throw",t)}i(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),y=(0,n.Z)(d,200,{maxWait:1e3}),h=function(t,e){return Object.values(t).find((function(t){return t.name===e.kind}))}},63456:function(t,e,r){r.d(e,{M:function(){return s}}),r(3973),r(80044),r(26364),r(19701),r(10853),r(80238),r(6208),r(12938),r(26425);var n=r(34323),o=r(67557);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=(0,n.vU)({button:{id:"components.SearchInput.button",defaultMessage:[{type:0,value:"Search"}]}}),s=function(t){var e=t.inputProps,r=t.onClick,a=void 0===r?function(){}:r;return(0,o.jsxs)("div",{className:"search-input",children:[(0,o.jsx)("input",i({},e)),(0,o.jsxs)("button",{className:"search-input__btn",onClick:a,children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon search-input__btn__icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-magnifying-glass"})})," ",(0,o.jsx)("span",{className:"offscreen",children:(0,o.jsx)(n._H,i({},c.button))})]})]})}},2007:function(t,e,r){r.r(e),r(32390),r(18183),r(19985),r(73214),r(29897),r(54883),r(10853),r(68995),r(26364),r(86632),r(61928),r(45007),r(18821),r(54994),r(4845),r(39275),r(35054);var n=r(7124),o=r(89526),a=r(80292),i=r.n(a),u=r(34323),c=r(35164),s=r(63456),l=r(47026),f=r(33469),p=r(67557);function d(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){d(a,n,o,i,u,"next",t)}function u(t){d(a,n,o,i,u,"throw",t)}i(void 0)}))}}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var m=(0,u.vU)({searchFieldPlaceholder:{id:"components.SearchSuggestField.searchFieldPlaceholder",defaultMessage:[{type:0,value:"Search for courses, organizations, categories"}]}});e.default=function(t){var e=t.context,r=(0,u.YB)(),a=(0,f.U)(),d=(0,l.T)(),v=d.courseSearchParams,b=d.dispatchCourseSearchParamsUpdate,g=d.lastDispatchActions,w=h((0,o.useState)(v.query||""),2),O=w[0],j=w[1],S=h((0,o.useState)([]),2),P=S[0],x=S[1];(0,o.useEffect)((function(){!v.query&&null!=g&&g.map((function(t){return t.type})).includes(l.Y.filterReset)&&O&&j("")}),[g]);var A=(0,o.useCallback)((function(t,e){var r=e.method,n=e.newValue;"type"===r&&(0===n.length||n.trim().length>=3)&&b({query:n,type:l.Y.queryUpdate})}),[v]),k=(0,o.useCallback)((0,n.Z)(A,500,{maxWait:1100}),[A]),E={onChange:function(t,e){var r=e.method,n=e.newValue;j(n),k(t,{method:r,newValue:n})},onKeyDown:function(t){13!==t.keyCode||O||b({query:"",type:l.Y.queryUpdate})},placeholder:r.formatMessage(m.searchFieldPlaceholder),value:O},R=function(){var t=y(regeneratorRuntime.mark((function t(e,r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.suggestion,t.t0=c.vt,t.next=4,a();case 4:t.t1=t.sent,t.t2=n,o=(0,t.t0)(t.t1,t.t2),b({query:"",type:l.Y.queryUpdate},{filter:o,payload:String(n.id),type:l.Y.filterAdd}),j(""),x([]);case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return(0,p.jsx)(i(),{getSectionSuggestions:function(t){return t.values},getSuggestionValue:c.tV,inputProps:E,multiSection:!0,onSuggestionsClearRequested:function(){return x([])},onSuggestionsFetchRequested:function(){var t=y(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.value,t.t0=c.Fz,t.next=4,a();case 4:return t.t1=t.sent,t.t2=x,t.t3=r,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuggestionSelected:R,renderInputComponent:function(t){return(0,p.jsx)(s.M,{context:e,inputProps:t})},renderSectionTitle:function(t){return t.title},renderSuggestion:c.Pq,shouldRenderSuggestions:function(t){return t.length>2},suggestions:P})}},47026:function(t,e,r){r.d(e,{Y:function(){return f},T:function(){return b}}),r(54994),r(19701),r(10853),r(193),r(39275),r(23528),r(55862),r(3973),r(80044),r(26364),r(80238),r(6208),r(12938),r(26425),r(86632),r(61928),r(54883),r(45007),r(68995),r(18821),r(4845);var n=r(69701),o=r(89526),a=r(60696),i=r(95418),u=r(68919),c=r(1760);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f,p=function(t,e){var r,n,o,a;return e.isDrilldown?(n={},l(n,f.filterAdd,(function(){return e.payload})),l(n,f.filterRemove,(function(){return t===e.payload?void 0:t||void 0})),n)[e.action]():t?"string"==typeof t?(a={},l(a,f.filterAdd,(function(){return t===e.payload?[t]:(0,c.wE)(t,e.payload)||(0,c.J2)(t,e.payload)?[e.payload]:[t,e.payload]})),l(a,f.filterRemove,(function(){return t===e.payload?void 0:t})),a)[e.action]():(r={},l(r,f.filterAdd,(function(){return[].concat(function(t){if(Array.isArray(t))return s(t)}(r=t.filter((function(t){return t!==e.payload&&!(0,c.wE)(t,e.payload)&&!(0,c.J2)(t,e.payload)})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.payload]);var r})),l(r,f.filterRemove,(function(){return 0===(r=t.filter((function(t){return t!==e.payload}))).length?void 0:r;var r})),r)[e.action]():(o={},l(o,f.filterAdd,(function(){return[e.payload]})),l(o,f.filterRemove,(function(){})),o)[e.action]()};function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.filterReset="FILTER_RESET",t.filterAdd="FILTER_ADD",t.filterRemove="FILTER_REMOVE",t.pageChange="PAGE_CHANGE",t.queryUpdate="QUERY_UPDATE"}(f||(f={}));var m=function(t,e){switch(e.type){case f.pageChange:return h(h({},t),{},{offset:e.offset});case f.queryUpdate:return h(h({},t),{},{offset:"0",query:e.query||void 0});case f.filterAdd:case f.filterRemove:return h(h({},t),{},v({offset:"0"},e.filter.name,p(t[e.filter.name],{action:e.type,isDrilldown:!!e.filter.is_drilldown,payload:e.payload})));case f.filterReset:return h(h({},i.e_),{},{limit:t.limit})}},b=function(){var t,e,r,c=(e=(0,a.k6)(),r=3,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],l=c[1],f=c[2],p=s.state.data.params;return(0,o.useEffect)((function(){if(!p.limit||!p.offset){var t=h(h({},i.e_),p);f({name:"courseSearch",data:{params:t,lastDispatchActions:null}},"","".concat(u.xh.pathname,"?").concat((0,n.stringify)(t)))}}),[(0,n.stringify)(p)]),{courseSearchParams:p,dispatchCourseSearchParamsUpdate:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=e.reduce(m,p);(0,n.stringify)(o)!==(0,n.stringify)((0,n.parse)(u.xh.search))?l({name:"courseSearch",data:{params:o,lastDispatchActions:e}},"","".concat(u.xh.pathname,"?").concat((0,n.stringify)(o))):f({name:"courseSearch",data:{params:o,lastDispatchActions:e}},"","".concat(u.xh.pathname,"?").concat((0,n.stringify)(o)))},lastDispatchActions:null===(t=s.state.data)||void 0===t?void 0:t.lastDispatchActions}}},33469:function(t,e,r){r.d(e,{U:function(){return d}}),r(32390),r(10853),r(35054),r(26364),r(86632),r(61928),r(54883),r(45007),r(68995),r(18821),r(54994),r(4845),r(39275),r(3973),r(80044),r(19701),r(80238),r(6208),r(12938),r(26425);var n=r(89526),o=r(3787);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)}))}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p={base_path:null,human_name:"Courses",is_autocompletable:!0,is_searchable:!0,name:"courses",position:99},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,n.useState)(!1),r=l(e,2),a=r[0],u=r[1],c=(0,n.useRef)(null),f=(0,n.useState)((function(){return new Promise((function(t){return c.current=t}))})),d=l(f,1),y=d[0];return(0,o.b)(s(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return e.next=3,fetch("/api/v1.0/filter-definitions/");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Failed to get filter definitions.");case 6:return e.next=8,r.json();case 8:n=e.sent,c.current(i(i({},n),t?{courses:p}:{}));case 10:case"end":return e.stop()}}),e)}))),[a]),function(){return u(!0),y}}},1760:function(t,e,r){r.d(e,{wE:function(){return o},J2:function(){return a},aj:function(){return i}}),r(39275),r(75668),r(21496);var n=function(t){return t.length%4==2&&!!t.match(/[P,L]-[0-9A-Z]{4,}/)},o=function(t,e){return n(t)&&n(e)&&e.substr(2).startsWith(t.substr(2))},a=function(t,e){return o(e,t)},i=function(t){if(!n(t))throw new Error("".concat(t," is not an MPTT path, cannot build a children path matcher."));return".-".concat(t.substr(2),".{4,}")}},3787:function(t,e,r){r.d(e,{b:function(){return o}});var n=r(89526),o=function(t,e){return(0,n.useEffect)((function(){var e=t();return function(){e.then((function(t){return t&&t()}))}}),e)}},21496:function(t,e,r){var n,o=r(19882),a=r(88697),i=r(66012).f,u=r(35108),c=r(28967),s=r(21049),l=r(96411),f=r(15454),p=r(21178),d=a("".startsWith),y=a("".slice),h=Math.min,v=f("startsWith");o({target:"String",proto:!0,forced:!(!p&&!v&&(n=i(String.prototype,"startsWith"),n&&!n.writable)||v)},{startsWith:function(t){var e=c(l(this));s(t);var r=u(h(arguments.length>1?arguments[1]:void 0,e.length)),n=c(t);return d?d(e,n,r):y(e,r,r+n.length)===n}})}}]);
//# sourceMappingURL=2007.4290950221d7d8e7d48e.index.js.map