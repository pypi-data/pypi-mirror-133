{".class": "MypyFile", "_fullname": "datools.explanation.diff", "is_partial_stub_package": false, "is_stub": false, "names": {".class": "SymbolTable", "Column": {".class": "SymbolTableNode", "cross_ref": "datools.models.Column", "kind": "Gdef"}, "Constant": {".class": "SymbolTableNode", "cross_ref": "datools.models.Constant", "kind": "Gdef"}, "DatoolsError": {".class": "SymbolTableNode", "cross_ref": "datools.errors.DatoolsError", "kind": "Gdef"}, "Dict": {".class": "SymbolTableNode", "cross_ref": "typing.Dict", "kind": "Gdef"}, "Explanation": {".class": "SymbolTableNode", "cross_ref": "datools.models.Explanation", "kind": "Gdef"}, "GROUPING_ID_KEY": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.GROUPING_ID_KEY", "kind": "Gdef"}, "GROUPING_SETS_KEY": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.GROUPING_SETS_KEY", "kind": "Gdef"}, "GROUP_COLUMNS_KEY": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.GROUP_COLUMNS_KEY", "kind": "Gdef"}, "INDENT": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.INDENT", "kind": "Gdef"}, "List": {".class": "SymbolTableNode", "cross_ref": "typing.List", "kind": "Gdef"}, "NUM_RANGE_BUCKETS": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "datools.explanation.diff.NUM_RANGE_BUCKETS", "name": "NUM_RANGE_BUCKETS", "type": "builtins.int"}}, "OPERATOR_TO_SQL": {".class": "SymbolTableNode", "cross_ref": "datools.models.OPERATOR_TO_SQL", "kind": "Gdef"}, "Operator": {".class": "SymbolTableNode", "cross_ref": "datools.models.Operator", "kind": "Gdef"}, "Predicate": {".class": "SymbolTableNode", "cross_ref": "datools.models.Predicate", "kind": "Gdef"}, "RangeValuedStatistics": {".class": "SymbolTableNode", "cross_ref": "datools.table_statistics.RangeValuedStatistics", "kind": "Gdef"}, "Set": {".class": "SymbolTableNode", "cross_ref": "typing.Set", "kind": "Gdef"}, "Tuple": {".class": "SymbolTableNode", "cross_ref": "typing.Tuple", "kind": "Gdef"}, "__doc__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "datools.explanation.diff.__doc__", "name": "__doc__", "type": "builtins.str"}}, "__file__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "datools.explanation.diff.__file__", "name": "__file__", "type": "builtins.str"}}, "__name__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "datools.explanation.diff.__name__", "name": "__name__", "type": "builtins.str"}}, "__package__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "datools.explanation.diff.__package__", "name": "__package__", "type": "builtins.str"}}, "_diff_query": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0, 0, 0], "arg_names": ["test_explanations_query", "control_explanations_query", "num_test_rows", "num_control_rows", "on_columns", "min_risk_ratio"], "flags": [], "fullname": "datools.explanation.diff._diff_query", "name": "_diff_query", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 0, 0, 0], "arg_names": ["test_explanations_query", "control_explanations_query", "num_test_rows", "num_control_rows", "on_columns", "min_risk_ratio"], "arg_types": ["builtins.str", "builtins.str", "builtins.float", "builtins.float", {".class": "Instance", "args": ["datools.models.Column"], "type_ref": "builtins.set"}, "builtins.float"], "bound_args": [], "def_extras": {"first_arg": null}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "_diff_query", "ret_type": "builtins.str", "type_guard": null, "variables": []}}}, "_explanation_counts_query": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 1], "arg_names": ["engine", "relation", "on_columns", "min_support_rows"], "flags": [], "fullname": "datools.explanation.diff._explanation_counts_query", "name": "_explanation_counts_query", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 1], "arg_names": ["engine", "relation", "on_columns", "min_support_rows"], "arg_types": [{".class": "AnyType", "missing_import_name": "datools.explanation.diff.sqlalchemy", "source_any": null, "type_of_any": 3}, "builtins.str", {".class": "Instance", "args": ["datools.models.Column"], "type_ref": "builtins.set"}, {".class": "UnionType", "items": ["builtins.int", {".class": "NoneType"}]}], "bound_args": [], "def_extras": {"first_arg": null}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "_explanation_counts_query", "ret_type": {".class": "TupleType", "implicit": false, "items": ["builtins.str", {".class": "Instance", "args": ["builtins.int", {".class": "Instance", "args": ["datools.models.Column"], "type_ref": "builtins.tuple"}], "type_ref": "builtins.dict"}], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, "type_guard": null, "variables": []}}}, "_rewrite_query_with_ranges_as_buckets": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["query", "range_statistics"], "flags": [], "fullname": "datools.explanation.diff._rewrite_query_with_ranges_as_buckets", "name": "_rewrite_query_with_ranges_as_buckets", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["query", "range_statistics"], "arg_types": ["builtins.str", {".class": "Instance", "args": [{".class": "TupleType", "implicit": false, "items": ["datools.models.Column", "datools.table_statistics.RangeValuedStatistics"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}], "type_ref": "builtins.list"}], "bound_args": [], "def_extras": {"first_arg": null}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "_rewrite_query_with_ranges_as_buckets", "ret_type": {".class": "TupleType", "implicit": false, "items": ["builtins.str", {".class": "Instance", "args": ["datools.models.Column", {".class": "Instance", "args": [{".class": "Instance", "args": ["datools.models.Predicate"], "type_ref": "builtins.tuple"}], "type_ref": "builtins.list"}], "type_ref": "builtins.dict"}], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, "type_guard": null, "variables": []}}}, "dedent": {".class": "SymbolTableNode", "cross_ref": "textwrap.dedent", "kind": "Gdef"}, "defaultdict": {".class": "SymbolTableNode", "cross_ref": "collections.defaultdict", "kind": "Gdef"}, "diff": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0, 0, 0, 0, 0], "arg_names": ["engine", "test_relation", "control_relation", "on_column_values", "on_column_ranges", "min_support", "min_risk_ratio", "max_order"], "flags": [], "fullname": "datools.explanation.diff.diff", "name": "diff", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 0, 0, 0, 0, 0], "arg_names": ["engine", "test_relation", "control_relation", "on_column_values", "on_column_ranges", "min_support", "min_risk_ratio", "max_order"], "arg_types": [{".class": "AnyType", "missing_import_name": "datools.explanation.diff.sqlalchemy", "source_any": null, "type_of_any": 3}, "builtins.str", "builtins.str", {".class": "Instance", "args": ["datools.models.Column"], "type_ref": "builtins.set"}, {".class": "Instance", "args": ["datools.models.Column"], "type_ref": "builtins.set"}, "builtins.float", "builtins.float", "builtins.int"], "bound_args": [], "def_extras": {"first_arg": null}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "diff", "ret_type": {".class": "Instance", "args": ["datools.models.Explanation"], "type_ref": "builtins.list"}, "type_guard": null, "variables": []}}}, "floor": {".class": "SymbolTableNode", "cross_ref": "math.floor", "kind": "Gdef"}, "grouping_sets_query": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.grouping_sets_query", "kind": "Gdef"}, "indent": {".class": "SymbolTableNode", "cross_ref": "textwrap.indent", "kind": "Gdef"}, "query_columns": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.query_columns", "kind": "Gdef"}, "query_rows": {".class": "SymbolTableNode", "cross_ref": "datools.sqlalchemy_utils.query_rows", "kind": "Gdef"}, "range_valued_statistics": {".class": "SymbolTableNode", "cross_ref": "datools.table_statistics.range_valued_statistics", "kind": "Gdef"}, "sqlalchemy": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import", "is_ready"], "fullname": "datools.explanation.diff.sqlalchemy", "name": "sqlalchemy", "type": {".class": "AnyType", "missing_import_name": "datools.explanation.diff.sqlalchemy", "source_any": null, "type_of_any": 3}}}}, "path": "/root/datools/datools/explanation/diff.py"}