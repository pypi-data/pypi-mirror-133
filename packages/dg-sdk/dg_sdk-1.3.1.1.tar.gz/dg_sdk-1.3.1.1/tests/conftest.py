import pytest
import dg_sdk

import json
from fishbase import get_abs_filename_with_sub_path

log_abs_filename = get_abs_filename_with_sub_path('log', '%s.log' % "demo")[1]
dg_sdk.DGClient.init_log(console_enable=True, log_level=20, log_file_path=log_abs_filename)

upper_huifu_id = "6666000108840829"

huifu_id = "6666000108854952"
sys_id = "6666000108854952"
product_id = "YYZY"
private_key = "MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCxtfk3rjwdpBV81WBy5jIMcDLFdvHckhjGXkmWfaBn7euPRyetEhS4inpr7EvQ5KDUXNBPljI2NVhG/LEGZKvau1MW8j3t7dJ3gWafuVGsCiLJHU79sIRHf11nKOTykX5WxB/7MMwRnZsECuaZyCk7WPuSAlznqbDJdrZTzHhjQzMhjto1qD6+vc0OxyaBFlOY9piBtEfecsvD+6GfQ8exFqwzblJm9iZPYw02DaeUDLFO9Umn7i7gShlj/1Hh8nEM7YitpF/p26o+MC9LHWbIjgzjvNVhSRVmbvWys+3S11Zm/vux6Yzfk0H3fqrksAKSEkLEtEoYKS4wKjHdecztAgMBAAECggEACy1g4WmqCks5tsJM8K0d1L5x0w2qJK9js4ZWpop8Pk0ulbJqAm6ysvCyxnr0Qc0/eFvmFjtiKRqt1LksATTvwjAqB7Vww7hDlpSi+cTUKDfy/CdFwpsJlt2h6E0gKUmRYq+vO0NUcn8xMs3ktyNpxHvSRtqzMTbxEZrP2PFxWPzUKGNyk53FTlJ64YCoGQqWeGhA5LO6QLPHlAxIrvRf9B5dtXQr5XZXVqS9MwjtsRPvQPWiFXxlzvhJRcL/wXehcNextHzpMMgX/idB3HIpIl6XXLKiFUR4rBDJIMiQjQvS6zz2l1zpiJ0vWujVa3IY+PNefRA2ttg1DeC19GYa2QKBgQDh7AkJ7wut7p4qYAdcFEDVhFgP5mnSRyOBGWmClHYE4RIFplPiv4yO0fttAjFuCg4Zaxq49BuV3zshWOEIr72VK6wMa6Z+QbfXNr/1DT6nW+ktgXTw2G9Ts/nZiMrpcsbl7qvwChfJAPvEwnyP7Ckmd9t2WbQisuYZc+Vu8znO7wKBgQDJXskTiExEipQSOcVH5cX/ExVyj9MoLjmJhy3WTTDzGafgEoOPOfej2ZCgF6gCwugXJr+rtgdOpASk8WPACaCePdjdgQ2NVhSfV3op3TtvhgAPf3iI/zCVkZM4I1iZs6KjdHstLCKyAzCFBsowkPbfZBlFX4eO7Bk6XcIZ6x2h4wKBgQDcH64C5s4bb2beZOhm2Dj/kU54V4l93+CBFjCOkXaYdG+p35DWWspqEcCHSt68l8F7FLdZxEbodTPY3w+L9iejI4UkKPN1CzVD1U2dR4VnbY85zmwRiuCVzsM/KCCE61dOi4ktfbgFGhc1dEYHuROzLo8/tlFkiajW3eyLeSM3MwKBgATL3iw57d8gEeDRQXKx9WJa+QLOjDAD0dkFwEC/e+/+Z3I93qZVsiFT+E7n4VeXfuG2SZB0eH4WCApJuZ+EWzAJtxWnkkQQjdMxyTYgD99bKLs1xRA2S9j0K7aFmQGoNrJ//sMXrwfgbZJtk/lOKqMthjCR0u/DjeJHA22MnRsTAoGADXzJs/of0JExvQWwfdIUnSEPs/PgTrrJpo+CAdXnagYHF+InrmvIcNwx6ZzIs+9aGwUt0d/YsSpJkHMfAtTwZjB7sSw8Cg5DZ179Jy3YkKhFPvZv2ZCANa5J74HZNQUrUUL6O4FouZUiLwFlq8YuUPRtkAjYwyS/jwUbhJzqZhQ="
public_key = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkMX8p3GyMw3gk6x72h20NOk3L9+Nn9mOVP6+YoBwCe7Zs4QmYrA/etFRZw2TQrSc51wgtCkJi1/x8Wl7maPL1uH2+77JFlPv7H/F4Lr2I2LXgnllg6PtwOSw/qvGYInVVB4kL85VQl0/8ObyxBUdJ43I0z/u8hJb2gwujSudOGizbeqQXAYrwcNy+e+cjodpPy9unpJjBfa4Wz2eVLLvUYYKZKdRn6pZR2cQsMBvL30K4cFlZqlJ9iP2hTG3gaiZJ9JrjTigwki0g9pbTDXiPACfuF1nOeObvLD22zBbgn1kwgfsqoG67z7g84u2jvfUFCzX1JRgd0xfNorTRkS2RQIDAQAB"



PUBLIC_KEY = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkmP0eyQVeGHVxk/4+Zq9R6tm8vmQZaMAvtvy5D/Ki3lvhfRn8T3R3vP5xTpp2zAtmZzFnc1k4DswYBsv7lsxwseoJ3sIM6of6NYnf+39CK+NhKSsdDNDET2KCxD5Gip3WJVtgP3P4w3P/U2jCi8Xzm9sxy3XZ3TSZuokvX77UnfBZTFMuGjCmZFcuM6VjDOxoaEtnYhAVLOQItb3Jr1vvIg4vrhCWBus9YVgl3Ua5qtTccmpspnFbY3ix0UFrmHczTaPWrxKMrnEIDurgmMPXPiyR67Z/AcvcJ8vgvaVHnINmDb0hlRUkI623P9dO/fPswaNIEj0ZeoZHcdLya07swIDAQAB"
PRIVATE_KEY = "MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCL239qHtSkbfGZCy5VXBZDcZsA6zblrfIwtYe5smFe+lUiflGVBwNZFVlrfbNtUa1uJIp3BFdblGyqcTkJo9n+BFuJPrnD4HXDpnwRqIl5F/kxBvUGILRKvuMuxaCS8wLFg5rqvxNFyiKZYLEbuQlj/lF7+rOucflM5ZCYSAvwQ7hs8slzkoDClZRXuukk+ak5R/cb9f20NYi0eIdr7ruxsyywGbBIMBMAvhnE4895jkaDMho2QmlsylrBvobetDPZBIQPSrzr6iuLSseQlClzWED0E+Tc1QmPjh9G+9BOzZK/3kB49Ig7tN5cFrupxUPOGy2l8VmMd0dSuGz/xNbtAgMBAAECggEAIhuq7EeOlndVt3xZlWm66EHZipTSs5sDeMucyTXut0oX3yytWsn2EBC72RIz4xJLWJRCzJnbcDM3eS3Zujcin+eSJ1uL1HB2Z/u/QFM5C7ZECKfos9DgB2acYzjBW3U2lNLuwhdNbPTKEVvadadf2eoZF0Jh9cZIBW/rHqhbeQG+rhU5D79e1XcECSbPnDZFmvErf82IbwA/QAHw+0o6MqSSAR5yrwvtNjG6n7hOc/T4KOQEwwynpnR/Fb1MfxIHnegOn6B3oiuaawp0KuQvn2EvhYnjej0GBOut+91oKjd4J4brtRyAs3JQx/T7CR2Qk2IqHSz1fnm6ZtRtuqHDIQKBgQDDciA5eECoWNZDtrgn/kCTLmuCMlM1D1TOjCvsW5wWi6HhURIf1TgH4tcLceZve96Ep3wSfbS0G2+Fbt7rKhwcZRRN2vfU+4gLVoc/hfGW6HQF/TjZVK/wcZnJgEs5wR0TmEYZzpMA28T2XcTxZcjY0vy+pLPG27/pQnAHEHrQGQKBgQC3MFpaNosxaAD+I3zjWOPi8difHi/sBGBc3scvIyvofH/E+jYQl+T2iHLfFTJ8EIglMrJV9oRHcHUf5SqxNdvppS4LghGqHn4VBBL49LvvZnCa5QWqg8OlfbWAeAIIvqzjDYiQDpiZK6Qsku3gRXtjxiu4QuCJEriJ5KvSqEMH9QKBgCQuKFD7Ndz0NRXr6UNeCc41Namwbz7PS7/AqxDiFI8H4ju3qkdCTVEIaQ6xUxsoLxUXfBxgMOd2fLqSv6mA7htDivKuqlo/BfwzVG4p+YMaHQBO1AtHZhp4rSNkIIjceul5suBsIUJzbI6+5Qpa8UdSJ3+TNcSGQYyIw/xKzLFhAoGAXTyTAA960O6qcq8FRYFcm4mUQ4hNw8aGdT4+CtPP6UhUj6D6G3/z3TadoMVdKKARaz1eXzpVITcvpcgx7ngHMegMg3b0Hq3eZjvonCWT8cklzvB57cuarIRK+NQb1O+XdwjQVOHY8TyxFq7Bu8AhiSq33dTMC3gnzKdCfLl/RHECgYAbfT+SFUrHI0cWWuqpD+mniNZkUWlzd/kqDTOVH63/PkvYwJ4HaU/WPsBoWYkLcYQZtnMc7CfHzwMTm+tRlOiryF365pYwZy+N86LEbAudxkc9s8/0nnymP644mphpOctPT9uDBLDNq0tuuT5zd4WVA63rrwFhdLswCZK8Dijx7Q=="

SPIN_SYS_ID = "6666000108840829"
SPIN_MERCHANT_ID = "6666000109133323"
PRODUCT_ID = "YYZY"

dg_sdk.DGClient.mer_config = dg_sdk.MerConfig(PRIVATE_KEY, PUBLIC_KEY, SPIN_SYS_ID, PRODUCT_ID, SPIN_MERCHANT_ID)


# dg_sdk.DGClient.mer_config = dg_sdk.MerConfig(private_key, public_key, sys_id, product_id, huifu_id)

terminal_device_data = json.dumps({"device_type": "4", "device_ip": "127.0.0.1"})
extend_pay_data = json.dumps({
    "goods_short_name": "goods_short_name",
    "gw_chnnl_tp": "01",
    "biz_tp": "123456"
})
risk_check_data = json.dumps({"ip_addr": "127.0.0.1"})
notify_url="virgo://http://192.168.25.213:30030/sspc/onlineAsync"