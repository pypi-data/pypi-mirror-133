"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([[5690],{5318:function(e,t,r){r.r(t),r.d(t,{MDXContext:function(){return l},MDXProvider:function(){return g},mdx:function(){return f},useMDXComponents:function(){return m},withMDXComponents:function(){return c}});var n=r(7378);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){return function(t){var r=m(t.components);return n.createElement(e,o({},t,{components:r}))}},m=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},g=function(e){var t=m(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),c=m(r),g=a,p=c["".concat(s,".").concat(g)]||c[g]||u[g]||o;return r?n.createElement(p,i(i({ref:t},l),{},{components:r})):n.createElement(p,i({ref:t},l))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=p;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var l=2;l<o;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},4733:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(7378)),a=g(r(1884)),o=g(r(3699)),s=g(r(3817)),i=g(r(8948)),d=g(r(5402)),l=g(r(353)),c=g(r(8944)),m=["className","imageClassName","disabled","children"];function g(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var f=function(e){var t,r=e.className,g=e.imageClassName,f=e.disabled,_=e.children,b=p(e,m),v=(0,l.default)().siteConfig.title,k=(0,d.default)().logo,x=void 0===k?{src:""}:k,h=(0,i.default)(x.href||"/"),y={light:(0,i.default)(x.src),dark:(0,i.default)(x.srcDark||x.src)};return n.default.createElement(a.default,u({to:h,className:(0,c.default)(r,(t={},t[o.default.disabled]=f,t))},b,x.target&&{target:x.target}),x.src&&n.default.createElement(s.default,{className:g,sources:y,alt:x.alt||v}),_)};t.default=f},9121:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((n=r(7378))&&n.__esModule?n:{default:n}).default.createContext(void 0);t.default=a},3817:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(8944)),a=l(r(7378)),o=l(r(6457)),s=l(r(3159)),i=l(r(3971)),d=["sources","className","alt"];function l(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var g=function(e){var t=(0,o.default)(),r=(0,s.default)().isDarkTheme,l=e.sources,g=e.className,u=void 0===g?"":g,p=e.alt,f=void 0===p?"":p,_=m(e,d),b=t?r?["dark"]:["light"]:["light","dark"];return a.default.createElement(a.default.Fragment,null,b.map((function(e){return a.default.createElement("img",c({key:e,src:l[e],alt:f,className:(0,n.default)(i.default.themedImage,i.default["themedImage--"+e],u)},_))})))};t.default=g},5402:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o().themeConfig},t.useSiteConfig=o;var n,a=(n=r(353))&&n.__esModule?n:{default:n};function o(){return(0,a.default)().siteConfig}},3159:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r(7378),o=(n=r(9121))&&n.__esModule?n:{default:n};var s=function(){var e=(0,a.useContext)(o.default);if(null==e)throw new Error('"useThemeContext" is used outside of "Layout" component. Please see https://docusaurus.io/docs/api/themes/configuration#usethemecontext.');return e};t.default=s},1355:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(8944),a=r(7378),o=r(2739),s=r(4733),i="message_SmOn",d="messageRight_N4I+",l="messageAvatar_1jlm",c="messageBox_ajkE";function m(e){var t,r=e.msg,m=e.isRight;return a.createElement("div",{className:(0,n.default)(i,(t={},t[d]=m,t))},m?a.createElement("div",{className:(0,n.default)("bg-cyan-600 text-base",l)},a.createElement(o.FontAwesomeIcon,{icon:["fas","user"]})):a.createElement("div",{className:(0,n.default)("transparent",l)},a.createElement(s.default,{imageClassName:"h-full w-full",disabled:!0})),a.createElement("div",{className:(0,n.default)(c,{"order-first":m}),dangerouslySetInnerHTML:{__html:r.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")}}))}function g(e){var t=e.msgs,r=void 0===t?[]:t,n=function(e){return"right"===e.position};return a.createElement("div",{className:"block w-full max-w-full my-4 rounded shadow-md outline-none no-underline bg-light-nonepress-100 dark:bg-dark-nonepress-100"},a.createElement("header",{className:"flex items-center h-12 px-4 bg-blue-500 text-white rounded-t-[inherit]"},a.createElement("div",{className:"text-left text-base grow"},a.createElement(o.FontAwesomeIcon,{icon:["fas","chevron-left"]})),a.createElement("div",{className:"flex-initial grow-0"},a.createElement("span",{className:"text-xl font-bold"},"NoneBot")),a.createElement("div",{className:"text-right text-base grow"},a.createElement(o.FontAwesomeIcon,{icon:["fas","user"]}))),a.createElement("div",{className:"p-3 min-h-[150px]"},r.map((function(e,t){return a.createElement(m,{msg:e.msg,isRight:n(e),key:t})}))),a.createElement("div",{className:"px-3"},a.createElement("div",{className:"flex flex-row items-center"},a.createElement("div",{className:"flex-1 p-1 max-w-full"},a.createElement("input",{className:"w-full rounded bg-light dark:bg-dark"})),a.createElement("div",{className:"flex-initial grow-0 w-fit"},a.createElement("button",{className:"h-7 px-3 rounded-full bg-blue-500 text-white"},a.createElement("span",null,"\u53d1\u9001")))),a.createElement("div",{className:"flex flex-row items-center text-center text-base text-gray-600"},a.createElement("div",{className:"p-1 shrink-0 grow-0 basis-1/6"},a.createElement(o.FontAwesomeIcon,{icon:["fas","microphone"]})),a.createElement("div",{className:"p-1 shrink-0 grow-0 basis-1/6"},a.createElement(o.FontAwesomeIcon,{icon:["fas","image"]})),a.createElement("div",{className:"p-1 shrink-0 grow-0 basis-1/6"},a.createElement(o.FontAwesomeIcon,{icon:["fas","camera"]})),a.createElement("div",{className:"p-1 shrink-0 grow-0 basis-1/6"},a.createElement(o.FontAwesomeIcon,{icon:["fas","wallet"]})),a.createElement("div",{className:"p-1 shrink-0 grow-0 basis-1/6"},a.createElement(o.FontAwesomeIcon,{icon:["fas","smile-wink"]})),a.createElement("div",{className:"p-1 shrink-0 grow-0 basis-1/6"},a.createElement(o.FontAwesomeIcon,{icon:["fas","plus-circle"]})))))}},7485:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return m},contentTitle:function(){return g},metadata:function(){return u},toc:function(){return p},default:function(){return _}});var n=r(5773),a=r(808),o=(r(7378),r(5318)),s=r(3343),i=r(1355),d=r(8683),l=r(9156),c=["components"],m={sidebar_position:6,description:"\u7b80\u5355\u63d2\u4ef6\u793a\u4f8b"},g="\u63d2\u4ef6\u793a\u4f8b",u={unversionedId:"tutorial/plugin/example",id:"version-2.0.0-beta.1/tutorial/plugin/example",isDocsHomePage:!1,title:"\u63d2\u4ef6\u793a\u4f8b",description:"\u7b80\u5355\u63d2\u4ef6\u793a\u4f8b",source:"@site/versioned_docs/version-2.0.0-beta.1/tutorial/plugin/example.mdx",sourceDirName:"tutorial/plugin",slug:"/tutorial/plugin/example",permalink:"/website/docs/tutorial/plugin/example",editUrl:"https://github.com/nonebot/nonebot2/edit/master/website/versioned_docs/version-2.0.0-beta.1/tutorial/plugin/example.mdx",tags:[],version:"2.0.0-beta.1",lastUpdatedBy:"yanyongyu",lastUpdatedAt:1641641779,formattedLastUpdatedAt:"2022/1/8",sidebarPosition:6,frontMatter:{sidebar_position:6,description:"\u7b80\u5355\u63d2\u4ef6\u793a\u4f8b"},sidebar:"version-2.0.0-beta.1/tutorial",previous:{title:"\u4e8b\u4ef6\u54cd\u5e94\u5668\u64cd\u4f5c",permalink:"/website/docs/tutorial/plugin/matcher-operation"},next:{title:"\u81ea\u5b9a\u4e49\u65e5\u5fd7",permalink:"/website/docs/tutorial/custom-logger"}},p=[{value:"\u547d\u4ee4\u5f0f\u95ee\u7b54\u793a\u4f8b",id:"\u547d\u4ee4\u5f0f\u95ee\u7b54\u793a\u4f8b",children:[],level:2}],f={toc:p};function _(e){var t=e.components,r=(0,a.Z)(e,c);return(0,o.mdx)("wrapper",(0,n.Z)({},f,r,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"\u63d2\u4ef6\u793a\u4f8b"},"\u63d2\u4ef6\u793a\u4f8b"),(0,o.mdx)("h2",{id:"\u547d\u4ee4\u5f0f\u95ee\u7b54\u793a\u4f8b"},"\u547d\u4ee4\u5f0f\u95ee\u7b54\u793a\u4f8b"),(0,o.mdx)(s.default,{className:"language-python",mdxType:"CodeBlock"},d.Z),(0,o.mdx)(i.Z,{msgs:[{position:"right",msg:"/\u5929\u6c14"},{position:"left",msg:"\u4f60\u60f3\u67e5\u8be2\u54ea\u4e2a\u57ce\u5e02\u7684\u5929\u6c14\u5462\uff1f"},{position:"right",msg:"\u4e0a\u6d77"},{position:"left",msg:"\u4e0a\u6d77\u7684\u5929\u6c14\u662f..."}],mdxType:"Messenger"}),(0,o.mdx)("details",null,(0,o.mdx)("summary",null,"\u6d4b\u8bd5\u793a\u4f8b"),(0,o.mdx)(s.default,{className:"language-python",mdxType:"CodeBlock"},l.Z)))}_.isMDXComponent=!0},3699:function(e,t,r){r.r(t),t.default={disabled:"disabled_2ySB","hover:border-light-text-active":"hover:border-light-text-active_sA3D","hover:bg-light-nonepress-200":"hover:bg-light-nonepress-200_YJfQ","hover:bg-light-nonepress-300":"hover:bg-light-nonepress-300_cVrd","hover:bg-light-nonepress-100":"hover:bg-light-nonepress-100_z15J","hover:bg-hero":"hover:bg-hero_VNYm","hover:bg-opacity-[.08]":"hover:bg-opacity-[.08]_XEIt","hover:text-hero":"hover:text-hero_ZiZX","hover:opacity-100":"hover:opacity-100_mjpS","focus:border-light-text-active":"focus:border-light-text-active_Kbj9","focus:opacity-100":"focus:opacity-100_QC2-","focus:outline-none":"focus:outline-none_YXLY","focus:ring-2":"focus:ring-2_ylku","focus:ring-1":"focus:ring-1_ABSb","focus:ring-inset":"focus:ring-inset_3E2N","focus:ring-indigo-500":"focus:ring-indigo-500_L77C","focus:ring-light-text-active":"focus:ring-light-text-active_Umbi","focus:ring-yellow-300":"focus:ring-yellow-300_cSQz","active:bg-light-nonepress-300":"active:bg-light-nonepress-300_HRn0",group:"group_tfmI","group-hover:opacity-100":"group-hover:opacity-100_UAa+",dark:"dark_-JdI","dark:prose-dark":"dark:prose-dark_dSn9","dark:translate-x-5":"dark:translate-x-5_fXMt","dark:border":"dark:border_tdec","dark:border-dark-details-darker":"dark:border-dark-details-darker_rHpC","dark:border-gray-500":"dark:border-gray-500_AGqk","dark:border-gray-600":"dark:border-gray-600_mLQT","dark:border-indigo-300":"dark:border-indigo-300_fktH","dark:border-red-300":"dark:border-red-300_bV4k","dark:border-dark-nonepress-200":"dark:border-dark-nonepress-200_V0AE","dark:border-t-dark-text-active":"dark:border-t-dark-text-active_2txb","dark:border-b-dark-text-active":"dark:border-b-dark-text-active_holp","dark:bg-dark-backToTop":"dark:bg-dark-backToTop_94Aw","dark:bg-dark-details":"dark:bg-dark-details_1SJq","dark:bg-dark-nonepress-200":"dark:bg-dark-nonepress-200_8asM","dark:bg-dark-nonepress-100":"dark:bg-dark-nonepress-100_yVN4","dark:bg-dark-nav":"dark:bg-dark-nav_TRTA","dark:bg-transparent":"dark:bg-transparent_tBZE","dark:bg-dark-text-active":"dark:bg-dark-text-active_CC8W","dark:bg-gray-900":"dark:bg-gray-900_-pCJ","dark:bg-gray-700":"dark:bg-gray-700_iiED","dark:bg-dark":"dark:bg-dark_MApU","dark:bg-opacity-50":"dark:bg-opacity-50_aGPt","dark:text-dark-text":"dark:text-dark-text_8ohQ","dark:text-dark-text-active":"dark:text-dark-text-active_xTtQ","dark:text-gray-600":"dark:text-gray-600_o6Fd","dark:text-indigo-300":"dark:text-indigo-300_2I96","dark:text-red-300":"dark:text-red-300_XdSt","dark:text-white":"dark:text-white_q256","dark:opacity-0":"dark:opacity-0_hF+i","dark:opacity-100":"dark:opacity-100_REqm","dark:shadow-dark-nonepress-300":"dark:shadow-dark-nonepress-300_Bodx","dark:hover:border-dark-text-active":"dark:hover:border-dark-text-active_BASC","dark:hover:bg-dark-nonepress-200":"dark:hover:bg-dark-nonepress-200_XUSy","dark:hover:bg-dark-nonepress-300":"dark:hover:bg-dark-nonepress-300_RIC2","dark:hover:bg-dark-nonepress-100":"dark:hover:bg-dark-nonepress-100_dxI7","dark:hover:text-white":"dark:hover:text-white_r2zF","dark:hover:opacity-100":"dark:hover:opacity-100_2dOM","dark:focus:border-indigo-300":"dark:focus:border-indigo-300_BTBu","dark:focus:border-dark-text-active":"dark:focus:border-dark-text-active_jEFZ","dark:focus:ring-indigo-300":"dark:focus:ring-indigo-300_PBkq","dark:focus:ring-dark-text-active":"dark:focus:ring-dark-text-active_T8Ah","dark:focus:ring-blue-200":"dark:focus:ring-blue-200_b1Wz","active:dark:bg-dark-nonepress-300":"active:dark:bg-dark-nonepress-300_sV4+","sm:h-10":"sm:h-10_ZQfg","sm:grid-cols-3":"sm:grid-cols-3_WGAJ","sm:grid-cols-2":"sm:grid-cols-2_bY2m","sm:gap-8":"sm:gap-8_CVSr","sm:p-24":"sm:p-24_2YkB","sm:p-8":"sm:p-8_-Cyx","sm:px-6":"sm:px-6_PQyW","sm:px-0":"sm:px-0_2OGF","sm:text-5xl":"sm:text-5xl_c9cO","sm:text-sm":"sm:text-sm_+ujo","md:mt-0":"md:mt-0_tbhK","md:mt-5":"md:mt-5_wrOX","md:grid":"md:grid_hv8z","md:max-w-3xl":"md:max-w-3xl_rbQk","md:grid-cols-1":"md:grid-cols-1_Bwpw","md:grid-cols-2":"md:grid-cols-2_wZUo","md:grid-cols-3":"md:grid-cols-3_eCzG","md:grid-cols-4":"md:grid-cols-4_OOA8","md:grid-cols-5":"md:grid-cols-5_Au6V","md:grid-cols-6":"md:grid-cols-6_ZK0T","md:grid-cols-7":"md:grid-cols-7_O00T","md:grid-cols-8":"md:grid-cols-8_QW5S","md:grid-cols-9":"md:grid-cols-9_Bxdp","md:grid-cols-10":"md:grid-cols-10_25R0","md:grid-cols-11":"md:grid-cols-11_1LLK","md:grid-cols-12":"md:grid-cols-12_enQL","md:items-center":"md:items-center_DUqG","md:justify-center":"md:justify-center_8sFN","md:gap-8":"md:gap-8_Q+Ru","md:gap-6":"md:gap-6_b-xZ","md:px-16":"md:px-16_Pt1D","md:pb-0":"md:pb-0_qA8H","md:text-5xl":"md:text-5xl_0Eig","lg:order-none":"lg:order-none_7DPF","lg:mr-0":"lg:mr-0_N9zm","lg:flex":"lg:flex_xifw","lg:inline-flex":"lg:inline-flex_8Skx","lg:hidden":"lg:hidden_L6Cb","lg:w-0":"lg:w-0_Si-R","lg:max-w-[75%]":"lg:max-w-[75%]_Ol5c","lg:max-w-3xl":"lg:max-w-3xl_UJoL","lg:flex-1":"lg:flex-1_OivN","lg:grid-cols-3":"lg:grid-cols-3_Pp6R","lg:grid-cols-2":"lg:grid-cols-2_nocN","lg:items-center":"lg:items-center_gbeV","lg:space-x-10":"lg:space-x-10_YYe4","lg:px-16":"lg:px-16_NQW-","lg:px-12":"lg:px-12_lJrv","lg:py-12":"lg:py-12_pcUU","lg:px-8":"lg:px-8_iwFx","lg:text-right":"lg:text-right_10s-","xl:col-span-1":"xl:col-span-1_pdEW","xl:col-span-2":"xl:col-span-2_Sh3G","xl:mt-0":"xl:mt-0_6U9M","xl:grid":"xl:grid_HSXq","xl:grid-cols-3":"xl:grid-cols-3_OijJ","xl:gap-8":"xl:gap-8_3wlv","xl:text-center":"xl:text-center_aHm5"}},3971:function(e,t,r){r.r(t),t.default={themedImage:"themedImage_3Beg","themedImage--light":"themedImage--light_NZVv","themedImage--dark":"themedImage--dark_LdRg"}},8683:function(e,t){t.Z='from nonebot import on_command\nfrom nonebot.rule import to_me\nfrom nonebot.matcher import Matcher\nfrom nonebot.adapters import Message\nfrom nonebot.params import Arg, CommandArg, ArgPlainText\n\nweather = on_command("weather", rule=to_me(), aliases={"\u5929\u6c14", "\u5929\u6c14\u9884\u62a5"}, priority=5)\n\n\n@weather.handle()\nasync def handle_first_receive(matcher: Matcher, args: Message = CommandArg()):\n    plain_text = args.extract_plain_text()  # \u9996\u6b21\u53d1\u9001\u547d\u4ee4\u65f6\u8ddf\u968f\u7684\u53c2\u6570\uff0c\u4f8b\uff1a/\u5929\u6c14 \u4e0a\u6d77\uff0c\u5219args\u4e3a\u4e0a\u6d77\n    if plain_text:\n        matcher.set_arg("city", args)  # \u5982\u679c\u7528\u6237\u53d1\u9001\u4e86\u53c2\u6570\u5219\u76f4\u63a5\u8d4b\u503c\n\n\n@weather.got("city", prompt="\u4f60\u60f3\u67e5\u8be2\u54ea\u4e2a\u57ce\u5e02\u7684\u5929\u6c14\u5462\uff1f")\nasync def handle_city(city: Message = Arg(), city_name: str = ArgPlainText("city")):\n    if city_name not in ["\u5317\u4eac", "\u4e0a\u6d77"]:  # \u5982\u679c\u53c2\u6570\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u5219\u63d0\u793a\u7528\u6237\u91cd\u65b0\u8f93\u5165\n        # \u53ef\u4ee5\u4f7f\u7528\u5e73\u53f0\u7684 Message \u7c7b\u76f4\u63a5\u6784\u9020\u6a21\u677f\u6d88\u606f\n        await weather.reject(city.template("\u4f60\u60f3\u67e5\u8be2\u7684\u57ce\u5e02 {city} \u6682\u4e0d\u652f\u6301\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"))\n\n    city_weather = await get_weather(city_name)\n    await weather.finish(city_weather)\n\n\n# \u5728\u8fd9\u91cc\u7f16\u5199\u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u7684\u51fd\u6570\nasync def get_weather(city: str) -> str:\n    return f"{city}\u7684\u5929\u6c14\u662f..."\n'},9156:function(e,t){t.Z='import pytest\nfrom nonebug import App\n\n\n@pytest.mark.asyncio\nasync def test_weather(app: App):\n    from examples.weather import weather\n    from utils import make_fake_event, make_fake_message\n\n    # \u5c06\u6b64\u5904\u7684 make_fake_message() \u66ff\u6362\u4e3a\u4f60\u8981\u53d1\u9001\u7684\u5e73\u53f0\u6d88\u606f Message \u7c7b\u578b\n    Message = make_fake_message()\n\n    async with app.test_matcher(weather) as ctx:\n        bot = ctx.create_bot()\n\n        msg = Message("/\u5929\u6c14 \u4e0a\u6d77")\n        # \u5c06\u6b64\u5904\u7684 make_fake_event() \u66ff\u6362\u4e3a\u4f60\u8981\u53d1\u9001\u7684\u5e73\u53f0\u4e8b\u4ef6 Event \u7c7b\u578b\n        event = make_fake_event(_message=msg, _to_me=True)()\n\n        ctx.receive_event(bot, event)\n        ctx.should_call_send(event, "\u4e0a\u6d77\u7684\u5929\u6c14\u662f...", True)\n        ctx.should_finished()\n\n    async with app.test_matcher(weather) as ctx:\n        bot = ctx.create_bot()\n\n        msg = Message("/\u5929\u6c14 \u5357\u4eac")\n        # \u5c06\u6b64\u5904\u7684 make_fake_event() \u66ff\u6362\u4e3a\u4f60\u8981\u53d1\u9001\u7684\u5e73\u53f0\u4e8b\u4ef6 Event \u7c7b\u578b\n        event = make_fake_event(_message=msg, _to_me=True)()\n\n        ctx.receive_event(bot, event)\n        ctx.should_call_send(event, Message("\u4f60\u60f3\u67e5\u8be2\u7684\u57ce\u5e02 \u5357\u4eac \u6682\u4e0d\u652f\u6301\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"), True)\n        ctx.should_rejected()\n\n        msg = Message("\u5317\u4eac")\n        event = make_fake_event(_message=msg)()\n\n        ctx.receive_event(bot, event)\n        ctx.should_call_send(event, "\u5317\u4eac\u7684\u5929\u6c14\u662f...", True)\n        ctx.should_finished()\n\n    async with app.test_matcher(weather) as ctx:\n        bot = ctx.create_bot()\n\n        msg = Message("/\u5929\u6c14")\n        # \u5c06\u6b64\u5904\u7684 make_fake_event() \u66ff\u6362\u4e3a\u4f60\u8981\u53d1\u9001\u7684\u5e73\u53f0\u4e8b\u4ef6 Event \u7c7b\u578b\n        event = make_fake_event(_message=msg, _to_me=True)()\n\n        ctx.receive_event(bot, event)\n        ctx.should_call_send(event, "\u4f60\u60f3\u67e5\u8be2\u54ea\u4e2a\u57ce\u5e02\u7684\u5929\u6c14\u5462\uff1f", True)\n\n        msg = Message("\u676d\u5dde")\n        event = make_fake_event(_message=msg)()\n\n        ctx.receive_event(bot, event)\n        ctx.should_call_send(event, Message("\u4f60\u60f3\u67e5\u8be2\u7684\u57ce\u5e02 \u676d\u5dde \u6682\u4e0d\u652f\u6301\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"), True)\n        ctx.should_rejected()\n\n        msg = Message("\u5317\u4eac")\n        event = make_fake_event(_message=msg)()\n\n        ctx.receive_event(bot, event)\n        ctx.should_call_send(event, "\u5317\u4eac\u7684\u5929\u6c14\u662f...", True)\n        ctx.should_finished()\n'}}]);